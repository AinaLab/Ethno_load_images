<!DOCTYPE html>
<html lang="fr">
  <head>
    <script src="https://miro.com/app/static/sdk.1.1.js"></script>

<!--	  
<script>
miro.onReady(() => {
  miro.initialize({
    extensionPoints: {
      bottomBar: {
        title: 'Sticker to shapes',
        svgIcon:
          '<circle cx="12" cy="12" r="9" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="4"/>',
        positionPriority: 1,
        onClick: async () => {
		          // Get selected widgets
          let selectedWidgets = await miro.board.selection.get()
		//for (let n=0; n<stickers_id.length;n++){
		//	let sticker = await miro.board.widgets.get({id:stickers_id[n]});
		//	sticker = sticker[0];
		//	sticker = sticker.plainText;
		//	let start_url = sticker.search(" url:");
		//	await miro.board.widgets.create({type:'image',url:sticker.substring(start_url+5), title:sticker.substring(6,start_url-6)})
		//}
        },
      },
    },
  })
})	
	</script>  -->
	  
	<script>
		miro.onReady(() => {
			  miro.initialize({
			    extensionPoints: {
			      bottomBar: {
				title: 'Load images',
				svgIcon:
				  '<circle cx="12" cy="12" r="9" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="2"/>',
				positionPriority: 1,
				onClick: async () => {
					
					for (let n=0; n<stickers_id.length;n++){
						let sticker = await miro.board.widgets.get({id:stickers_id[n]});
						sticker = sticker[0];
						sticker = sticker.plainText;
						let start_url = sticker.search(" url:");
						await miro.board.widgets.create({type:'image',url:sticker.substring(start_url+5), title:sticker.substring(6,start_url-6)})
					}
						
				},
			      },
			    },
			  })
			})
	  </script>

  </head>
	<!--
	<body>
	<h1> Hello world </h1>
	</body>-->
</html>
